package seleniumwithtestNG;

import java.util.ArrayList;
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

public class ReusabilityOne {

	WebDriver webby;
	int listSize;
	//String textData;
	List<String> textData = new ArrayList<>();
	List<String> webData = new ArrayList<>();

	@BeforeMethod
	public void setUp() {
		webby = new ChromeDriver();
		webby.get("https://www.google.com/");
		webby.manage().window().maximize();
	}

	@AfterMethod
	public void shutDown() {
		if (webby != null)
			webby.quit();
	}

	@Test(priority = 1)
	public void findWebElements() {
		List<WebElement> eleList = webby.findElements(By.xpath("//div[@id = 'SIvCob']/a[starts-with(@href, 'https://')]"));
		listSize = eleList.size();
		webData = getText(eleList, listSize);
		showText(webData,listSize);
	}
	@Test(priority = 2)
	public List<String> getText(List<WebElement> wb, int lsize) {
		try {
			Thread.sleep(2000);
			for(int i=0;i<lsize;i++)
				textData.add(i,wb.get(i).getText());
			} catch (Exception e)
			{ e.printStackTrace();}
			
				return (textData);
}
	//@Test(priority = 3) // Facing on error when the annotation is used. 
	public void showText(List<String> st, int lsize)
	{
		for(int i=0;i<lsize;i++)
			System.out.println(st.get(i));
	}
}



Resolution for the above code:


@Test
public void testOne(List<String> list) { }  // ‚ùå NOT SUPPORTED
TestNG only injects:

ITestContext

XmlTest

Method

Object[] (via @DataProvider)

NOT collections or custom objects.

Because TestNG does NOT allow parameters in @Test methods unless they come from:

@DataProvider

@Parameters

TestNG-injected objects (ITestContext, etc.)

Calling a @Test method like a normal Java method is not supported.

@Test methods should NOT accept business data parameters.